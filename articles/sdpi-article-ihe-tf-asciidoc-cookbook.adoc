= IHE TF AsciiDoc Cookbook
0.1, 2022.09.06: AsciiDoc article / repo wiki
:doctype: book
:xrefstyle: short
:toc-title: Contents
:toc: left
:toclevels: 2
:sectnums:
:icons: font
:imagesoutdir: images/
:imagesdir: images/

WARNING: This is a straw-man article. Content hackers welcomed!  Add content requests to section ++<<Topics Parking Lot>>++ below.

== Cookbook Overview
This article provides a *_handy_* reference place for the conventions and templates that editors will apply in creating content for the SDPi specification.  It is organized so as to help with specific editorial tasks (e.g., references, images, tables, metadata, etc.).

Related articles that support the information below include:

* https://github.com/IHE/sdpi-fhir/blob/50ace3692b9299cdfcea434501df87b192f5220c/SDPi_Supplement/articles/sdpi-article-asciidoc-cheat-sheet.adoc[AsciiDoc Cheat Sheet]
* link:SDPi-File-Organization-Scheme[SDPi File Organization Scheme]

There are a few methods to review the HTML that will be rendered from the AsciiDoc sources:

. IntelliJ Editor has quick view panes that can be used during content development +
. An "HTML" that can be used for creation of a .html version of the file (and included files) being edited
. GitHub Actions can be used to view the fully rendered document:
.. Push the local branch to remote; this will automatically trigger "Verify and upload SDPi supplement" workflow action
.. Use your browser to navigate to https://github.com/IHE/sdpi-fhir/actions[sdpi-fhir gihub actions page
.. Select "All workflows" or the "Verify and ..." tab
.. Note that it typically takes a minute or two to complete the workflow action -- status will be displayed on the right side of your push's row
.. Select your branches latest upload (push remote)
.. IF the action was successful, there will be listed in the "Artifacts" section; click on the artifact Name to download a ZIP of the rendered document.
.. Extract the ZIP, select the "singlepage" subfolder and open the sdpi-supplement.html document

Enjoy AsciiDoc content creation!

== Asciidoc Source Conventions

The following subsections specify conventions for the writing of Asciidoc markup.
It makes use of [Backus-Naur forms](https://en.wikipedia.org/wiki/Backus%E2%80%93Naur_form), which may include
[Regular expressions](https://en.wikipedia.org/wiki/Regular_expression) (signified by enclosing slashes) to describe
grammars for acceptable characters of symbols.

NOTE:  Following sections are in alphabetical order

=== Footnotes

##See example from supplement introduction; note that this example puts the footnotes in the bottom of the table vs. page ... matter?
##

=== Identifier naming

Asciidoc leverages identifiers for cross-referencing artifacts in Asciidoc markup.
The following rule specifies is a general naming convention for identifiers that is used throughout this section:

[source]
----
Name ::= /^[a-z0-9_]+$/
----

Name:: Custom name that contains small letters, digits and underscores only.

==== Identifier prefix

Identifiers shall be made up from the following rules:

[source]
----
Volume = 'vol0' | vol1' | 'vol2' | 'vol3'
ReferenceType ::= 'clause' | 'appendix' | 'listing' | 'figure' | 'table' | 'example' | 'ref'

BlockIdentifier ::= Volume '_' ReferenceType '_' Name
----

Volume:: Target volume.
ReferenceType:: The referenced block type.

.Example of including a clause name
====
[source,asciidoc]
----
[#vol2_clause_transactions]
== Transactions

Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore
magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd
gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.
----
====

==== Variables

Variables can be used to avoid repeating names or URIs in the Asciidoc source code. Variables shall be made up from the following rules:

[source]
----
VariableType ::= 'uri'

VariableName ::= 'var_' + [ VariableType + '_' ] + Name
----

VariableType:: Type of the variable, currently URIs/URLs are to be specifically designated.

==== Definitions

Definition Names are just arbitrary character sequences according to the following rule:

[source]
----
DefinitionName ::= Name
----

==== Actors

Actor Names are definition names with a specific prefix:

[source]
----
ActorName ::= 'actor_' + Name
----

=== Image paths

Images are stored in the `images` sub-folder including any diagrams generated by the Asciidoc Diagram plugin.

=== Listing paths

Code listings are stored in the `listings` sub-folder.

=== Nested Tables

##See example in supplement introduction
###

=== Plant UML diagrams

PlantUML diagram sources are stored in the `plantuml` sub-folder.

- A PlantUML diagram source shall be included by using the `include` directive (rather than inline)
- A PlantUML diagram source shall contain `skinparam dpi 300` for appropriate high-resolution rendering
- If no custom color palette is applied on a PlantUML diagram, the PlantUML diagram's source shall contain `skinparam monochrome true` for monochrome rendering

PlantUML diagram target names shall start with `puml` to easily identify any generated Plant UML artifacts in the
`images` folder.

[source]
----
PlantUmlTarget = 'puml-' Name
----

.Example of including a PlantUML diagram.
Note the leading `puml-` at the target option.

====
[source,asciidoc]
----
.Diagram title
[[vol2_figure_xyz]]
[plantuml, target=puml-vol2-figure-xyz, format=svg, reftext='{figure-caption} {counter:refnum}']
....
include::../plantuml/vol2-figure-xyz.puml[]
....
----
====

=== SVG Graphics -- PowerPoint to SVG + InkScape

For those graphics that are not PlantUML based, the preferred format is Scalable Vector Graphics (SVG) format.  Since many of content developers utilize Microsoft PowerPoint as their graphics editor of choice, getting from a PowerPoint slide to an SVG file that renders well in AsciiDoc is a bit of a journey.  The following tools and process -- though a bit laborious -- works well and reliably.

==== InkScape SVG Editing Tool
Before you begin, install the InkScape SVG editing tool.  This open source tool is available for free download at:  https://inkscape.org/release/1.1.2/platforms/ [inkscape.org/release/1.1.2/platforms].

[none]
* Note:  _Version 1.1.2 should be downloaded at this point due to some feature changes in more recent versions.  This should be rectified in the Q1 2023 update._

When installing, accept the normal "default" configuration options.  Our use of the tool is very basic!

==== PowerPoint to SVG
The first part of the process is to convert a PowerPoint graphic to SVG format:

. PowerPoint file should have a *_single slide with the graphics_* to be converted.  File should be named according to the file naming conventions (See sdpi-fhir wiki article link:SDPi-File-Organization-Scheme#file-naming-conventions[SDPi File Organization Scheme -- File Naming Conventions]).

.  During development & conversion, maintain the files (.pptx & .svg) in a separate local directory.  Ultimately, they will be moved to the appropriate directories in the github repository (per the above article's conventions)

. For the power point slide:

** Select All objects (e.g., ctrl^a) to make sure only the objects in your graphic are included - delete any other objects on the slide (e.g., transparent boxes that don't render).

** Hide any background graphics:  Design -> Format Background -> select _Hide background graphics_

. Convert to SVG:  File -> Save As -> Scalable Vector Graphics Format (*.svg)

*** Note:  Though there is only one slide per file, select "Just This One" when prompted for "Which slides do you want to export?"

Now you should have an SVG version of the graphic; hopefully in the same directory as the source .pptx file.

==== SVG to Final Cropped Version using InkScape
When PowerPoint exprts to SVG, it also includes the background area, which will display as a small graphic on a large white background.  To crop the SVG to the final version that will be rendered in the AsciiDoc file, follow the following steps:

. Load the .svg file into InkScape (see above for installing the tool)
. Delete the background layer:  double click anywhere on the background whitespace, press Del key.
. Crop the borders to 15 pixels around the graphic:
** File -> Document Properties -> Page -> _Resize page to content ..._
** Set Top / Bottom / Left / Right to 15.0
** Click "_Resize page to drawing or selection_"
** There should now be a box around the graphic with a 15 pixel border
. Add a "background box" behind the graphic:
** From the menu on the left of the tool's window, select the red rectangle ("Create Rectangles and Squares")
** Draw a box on top of the cropped graphic
** Change the box to white (click white on the color strip at the bottom of the tool's window)
** Move the box to behind the graphic:  Object -> Lower to Bottom
. Save edited SVG file (to your working directory)

==== Move SVG Graphic Files to Repository
The final step is to move both the source (pptx) and final SVG files from your working folder to the designated folders in the sdpi-fhir repository:

* SVG to SDPi_Supplement/asciidoc/images
* PPTX to SDPi_Supplement/sources

Check the AsciiDoc source where the graphic is included to ensure that it is properly formatted.

=== PNG & JPG & Other Automatic Image Formats

In general, AsciiDoc automatically handles other image formats based on the file name extension (e.g., myGraphic.png).

[source]
----
image::../../asciidoc/images/ihe-logo.svg[]
----

Which should render as:

image::../../asciidoc/images/ihe-logo.svg[]

NOTE: __You may need to experiment with paths to locate the image file. Use `..` for the parent folder; this one is in the `<project-root>/asciidoc/images` folder. __

NOTE: __ Two colons "::" are needed if the graphic is on a line by itself; if it is in-line with other text, then a single colon ":" should be used.__


Additional information is provided on the https://docs.asciidoctor.org/asciidoc/latest/macros/image-format/[AsciiDoc Specify Image Format] page.  For general file types and formats information, consult the https://developer.mozilla.org/en-US/docs/Web/Media/Formats/Image_types[Mozilla Image File Type and Format Guide].

=== Section Numbering Challenges

IHE technical framework _supplement_ documents are intended to be integrated into the main IHE DEV Technical Framework document.  This means that section numbering in the supplement is _discontiguous_ and is based on where it will ultimately be inserted.  AsciiDoc of course does not support discontiguous section numbering and as a result, the content has to be annotated with directions for a post processor (i.e., asciidoc-converter tool) to render the proper section numbering in the HTML output.

==== Setting the Section Offset and Level

##add content here###

==== Appendix Letters

##add content here##

=== Superscript / Subscript

##Bring example from supplement overview using ^...^ and ~...~ respectively
##

=== Text Box for Editor's Instructions
Many of the IHE Technical Framework Supplement sections include instructions for the editor who will ultimately migrate the supplemenbt content into the main (final text) Technical Framework specification.  These instructions are typically contained in a text box at the start of a section.

For AsciiDoc, this text box is realized by defining a one-cell table, as follows:

[source,asciidoc]
----
[%noheader]
[%autowidth]
[cols="1"]
|===
|Add the following _*new or modified*_ actors to the IHE Technical Frameworks General Introduction Appendix A
|===
----

This would result in the following text:

[%noheader]
[%autowidth]
[cols="1"]
|===
|Add the following _*new or modified*_ actors to the IHE Technical Frameworks General Introduction Appendix A
|===

=== Term & Acronym Definitions and References

Specialized terms and acronyms should be added to the TF-0 Glossary table and referenced appropriately throughout the specification text.  For example, the special term "Participant Key Purposes" and acronmy "PKP" would be added to the glossary table as follows:


[source]
----
| [[term_participant_key_purposes,Participant Key Purposes (PKP)]] Participant Key Purposes
| These generally refer to the ISO/IEEE 11073-1070x standards that provide a consensus set of risk control measures aligned with the four core <<acronym_mdi>> functions:  <<term_plug_and_trust>>, reporting, alerting & external control.
|
| [[acronym_pkp,PKP]] PKP
----

Subsequent references in the AsciiDoc specification should utilize "term_" and "acronym_".  If the acronym is only used locally, with in a single section or subsection, then it should be defined there at the outer most level and not formalized in the IHE Glossary.

NOTE:  The IHE TF-0 Appendix D glossary collects specialized (defined) terms used throughout all the IHE domain technical framework specifications.  Any conflicts with other defined terms and acronyms may result in updating to the specifications.

=== Paragraphs - LONG Paragraph Conventions
Paragraphs with multiple sentences -- which may be deemed "long" by some editors and readers! -- should separate each sentence with a single new-line.
This will make the AsciiDoc source much more readable without resulting in any format changes when rendered.
For example:

[source, asciidoc]
----
First paragraph - first sentence.
Second sentence.
Third sentence.

Second paragraph ...
----

Would be rendered as:
[none]
. First paragraph - first sentence.
Second sentence.
Third sentence.

. Second paragraph ...

== IHE Style Guide Conventions
IHE technical framework specifications follow a set of style conventions and associated templates.  Though this is to some degree in "flux" given the movement to HTML-based specifications, the style conventions in the subsections below help ensure consistency in the IHE DEV SDPi content.

=== Table and Figure Numbering

#TODO:  section-based sequential table numbering + referencing w/ AsciiDoc examples#

=== Bullet List Conventions

#TODO:  Review that the following is agreeable by the SDPi Editors#

For a bulleted list of items, the final "full stop" character of each non-final bullet should be ";" semicolon, with the final bullet ending in a "." period.  For example:

. First bullet;
. Second bullet;
. Final Bullet.


== Semantic content
https://docs.asciidoctor.org/asciidoctorj/latest/[Asciidoctor], which converts these files into other formats (e.g., html, pdf), has been https://docs.asciidoctor.org/asciidoctorj/latest/extensions/extensions-introduction/[extended] to process domain specific content for the supplement. These extensions provide semantic markup of content that is used to automatically generate, for example, implementation conformance statement tables and export requirements and use cases in JSON format for external tooling (see https://profiles.ihe.net/DEV/SDPi/index.html#vol1_appendix_a_requirements_management_for_p_n_t_interperability[requirements management for plug-and-trust interoperability]). 

Content encoded and exported, to `sdpi-supplement/referenced-artifacts/` in JSON format includes:

* `sdpi-requirements.json`: all requirements defined, as described below, in the source. 
* `sdpi-use-cases.json`: all use cases defined, as described below, in the source.


NOTE: the extensions are written in Kotlin and may be found, along with the document processing tools, in `.ci/asciidoc-converter`. In Windows, run `build_document.bat` to process the Asciidoc source files. 

=== Defining requirements

The example below illustrates the AsciiDoc source to define a simple requirement. 

[source,asciidoc]
----
.R1021
[sdpi_requirement,sdpi_req_level=shall,sdpi_req_type=tech_feature,sdpi_req_group="provider,discovery-proxy",sdpi_req_specification=sdpi-p]
****

[NORMATIVE]
====
When the managed discovery option is enabled for a SOMDS provider, then it SHALL use the DEV-46 transaction to update the discovery proxy actor of its network presence and departure.
====

****
----

The block name, `sdpi_requirement`, triggers semantic processing for the requirement content while the https://docs.asciidoctor.org/asciidoc/latest/blocks/add-title/[block title] defines the requirement number. Various <<requirement-attributes,attributes>> define properties for the requirement. The requirement content is delimited by exactly four *'s. The only required content for a block is the normative statement, tagged with the block name `[NORMATIVE]` and delimited by exactly four ='s. With this information we can:

* perform basic requirement validation, such as checking level keywords in the normative text,
* generate a unique <<requirement-oids,ISO object identifier>> for each requirement,
* generate implementation conformance statement <<generate-table,tables>> with a list of requirements for selected groups,
* ensure all requirement numbers are unique,
* &hellip;

Although the normative statement is the only block needed to define a requirement, many requirements include explanatory notes, examples and related information. This additional information is captured in tagged content blocks as the example below illustrates. This semantic content is retained when the requirements are exported in JSON format. 

[source,asciidoc]
----
.R1023
[sdpi_requirement,sdpi_req_level=shall,sdpi_req_type=tech_feature,sdpi_req_group="consumer,discovery-proxy",sdpi_req_specification=sdpi-p]
****

[NORMATIVE]
====
When the managed discovery option is enabled for a SOMDS consumer, then it shall use the DEV-47 transaction to retrieve SOMDS provider network presence metadata from the Discovery Proxy actor.
====

[NOTE]
====
. When retrieving network presence metadata from a discovery proxy actor, a discovery scope may be specified as a filter to identify a specific subset of SOMDS provider systems.
. A SOMDS consumer may optionally use the DEV-47 transaction to subscribe to all metadata updates from a set of SOMDS consumer systems, essentially using the discovery proxy as a pass-through for SOMDS provider DEV-23 and DEV-24 transactions. 
====

[EXAMPLE]
====
This is an example of an example block. 
====

[RELATED]
====
<<ref_oasis_ws_discovery_2009>>, section 2.2.2 Managed mode.
====

****
----

==== Requirement numbering and referencing

Requirement numbers are parsed from the title of the `sdpi_requirement` block. They must match the regular expression `^([A-Z])*?R(\\d+)$`. That is, a sequence of upper-case characters followed by `R` then a numeric value. Examples of valid requirement titles include: `.R1002`, `.TR1002`, `.ABCDEFR1002`. Invalid requirement titles include `.r1234` (an upper-case `R` is required), `.ABC R1234` (spaces are not permitted), `.tR1234` (lower-case letters are not permitted).

NOTE: The `.` character marks the line as an AsciiDoc https://docs.asciidoctor.org/asciidoc/latest/blocks/add-title/[title]; it is required to begin in the first column of the source file. 

NOTE: Requirements are identified by number only. They are preserved but do not form part of the requirement identifier. 

Requirements may be referenced using the `RefRequirement` in-line macro. For example: `RefRequirement:r1002[]`. Requirements are matched numerically only and must be prefixed by a lower-case `r`. References can be used in paragraph text. For example:

====
Check out RefRequirement:r1001[], it is super important!
====

NOTE: Previously anchors were needed, for cross-referencing, when defining a requirement (e.g., `[sdpi_requirement#r1022,sdpi_req_level=shall]`). These are now generated automatically. 

IMPORTANT: Using the `RefRequirement` in-line macro helps ensure future compatibility if, for example, <<requirement-oids,ISO object identifiers>> are used to reference requirements. 

[[requirement-attributes]]
==== Block attributes

Block attributes supply metadata for the requirement. Attributes are tabulated below; additional information may be found in https://profiles.ihe.net/DEV/SDPi/index.html#vol1_clause_sdpi_requirement_type_requirement_definition[SDPi requirement type definitions].

|===
|Attribute | Applies to | Type | Required |Description

|`sdpi_req_type` | all | {`use_case_feature` \| `tech_feature` \| `ihe_profile` \| `ref_ics` \| `use_case_feature` \| `risk_mitigation` } | yes | Defines the type of requirement, from the https://profiles.ihe.net/DEV/SDPi/index.|`sdpi_req_level` | {`shall` \| `should` \| `may` } |yes | Defines the behaviour expected for compatible implementations. html#vol1_clause_sdpi_requirements_core_model[SDPi requirements core model]
|`sdpi_req_group` |  all | comma separated list | no | Defines membership of ad-hoc groups. Groups may be used to select related requirements when generating ICS tables. 
|`sdpi_req_specification` |  all | defined _specification id_| yes| Defines the root for the requirements <<requirement-oids,ISO object identifier>>. 
|`sdpi_use_case_id` | `use_case_feature` | defined _use-case id_ | yes | Defines the use-case that the requirement applies to. Automatically populated from the enclosing <<use-case>> section. 
|`sdpi_ref_id` | `ref_ics` | defined _reference id_ | yes | The bibliography anchor for the entry to the referenced requirement.
|`sdpi_ref_section` | `ref_ics` | section identifier | yes | The identifier for the section containing the referenced requirement.
|`sdpi_ref_req` | `ref_ics` | requirement identifier | yes | The identifier for the requirement in the referenced standard. 
|`sdpi_ses_type` | `risk_mitigation` | {`general` | `safety` | `effectiveness` | `security` | `audit` } | yes | https://profiles.ihe.net/DEV/SDPi/index.html#vol1_clause_sdpi_requirement_type_ses[Type of risk] the requirement mitigates. 
|`sdpi_ses_test` | `risk_mitigation` | {`inspect` | `wire` } | yes | Mechanism for testing the requirement. 
|===

[[requirement-oids]]
==== ISO object identifiers

ISO object identifiers (OIDs) are assigned and rendered with each requirement in the output file generated. They are used as the primary requirement id in implementation conformance statement tables. ISO object identifiers combine a profile- or standard-specific root identifier with requirement number, that is: `profile_oid.2.requirement_number`. The profile/standard is identified, by name, using the `sdpi_req_specification` attribute. Relationships between profile/standard names and their ISO object identifier is established using document level `sdpi_oid` scoped attributes, typically in `asciidoc/std-oid-definitions.adoc`. 

Named profile and standards include:

|===
| `sdpi_req_specification` value | Profile/standard

| `sdpi` | The https://profiles.ihe.net/DEV/SDPi/index.html[SDPi] profile
| `sdpi-p` | The https://profiles.ihe.net/DEV/SDPi/index.html#vol1_clause_sdpi_p_profile[SDPi plug-and-trust] profile
| `sdpi-a` | The https://profiles.ihe.net/DEV/SDPi/index.html#vol1_clause_sdpi_a_profile[SDPi alerting] profile
| `sdpi-r` | The https://profiles.ihe.net/DEV/SDPi/index.html#vol1_clause_sdpi_r_profile[SDPi reporting] profile
| `sdpi-xC` | The https://profiles.ihe.net/DEV/SDPi/index.html#vol1_clause_sdpi_xc_profile[SDPi external control] profile
|===

Refer to the document source for corresponding ISO object identifiers for each profile. 

NOTE: specification names are case-sensitive. 

==== Groups

There is currently (February 2025) no constraint on groups that may be assigned to requirements. However, to promote consistency and utility, the following groups are recommended.

|===
| Group id | Description

| consumer | Applies to https://profiles.ihe.net/DEV/SDPi/index.html#vol1_clause_sdpi_p_somds_consumer[SOMDS consumer] implementations. 
| provider | Applies to https://profiles.ihe.net/DEV/SDPi/index.html#vol1_clause_sdpi_p_somds_provider[SOMDS provider] implementations.
| discovery-proxy | Applies to https://profiles.ihe.net/DEV/SDPi/index.html#_discovery_proxy[managed discovery proxy] implementations.
|===

NOTE: Group names are case sensitive.

[[use-case]]
=== Defining use cases

Use case blocks, and their parts, are identified in the source by AsciiDoc https://docs.asciidoctor.org/asciidoc/latest/attributes/role/[roles], with metadata provided in block attributes. The following example AsciiDoc source defines a use-case and one scenario. 

[source,asciidoc]
----
[role="use-case",sdpi_use_case_id=stad]
[sdpi_feature="Synchronized Time Across Devices"]
=== Use Case Feature 1: Synchronized time across devices (STAD)

==== Narrative
Nurse Jean attaches a ventilator to the medical device network in the ICU.  It automatically obtains the correct time.

==== Benefits
Automatically acquiring the time saves the user from spending time entering the time into the device.  It also guarantees that the correct time will be entered.
It is also important for all devices to have a consistent time since the data being exported to consuming devices and systems will use the time stamps from the device to mark the time that the clinical data was acquired.  Since this is part of the clinical record, accuracy is very important.

==== Technical Pre-Conditions

[role=use-case-background]
====
*Given* All devices communicate using a common acronym_md_lan protocol

*And* A Time Source (TS) Service is on the acronym_md_lan network
====

==== Scenarios

[role=use-case-scenario,sdpi_scenario="Device is connected to the MD LAN network with a Time Source service"]
===== Scenario: STAD 1.1 --- Device is connected to the MD LAN network with a Time Source service

[role=use-case-steps]
====
*Given* Device has detected at least one TS Service

*When* The TS Service is operational

*Then* The device will synchronize its time with the TS Service
====

----

[[use-case-roles]]
==== Block roles

AsciiDoc https://docs.asciidoctor.org/asciidoc/latest/attributes/role/[roles] assigned to content blocks provide semantic structure to use-case definitions. The roles available for use-cases are shown in the table below. 

Along with roles, use-case blocks should be logically structured in document sections. That is, background and scenarios must be sub-sections of a use-case section; steps must be within a scenario section. This structure is used to associate each content block with the appropriate use-case/scenario. 

Each use-case must have at most one background section and zero or more scenarios. Each scenario section must have at most one steps content block (which may contain several <<use-case-steps,steps>>).

|===
|Role | Parent | Content block

| `use-case` | &mdash; | Defines a use-case feature. 
| `use-case-background` | `use-case` | Defines technical pre-requisites for a use-case. 
| `use-case-scenario` | `use-case` | Defines one scenario in the use-case. 
| `use-case-steps` | `use-case-scenario` | Defines steps for a use-case scenario. 
|===

[[use-case-attributes]]
==== Block attributes

[[use-case-steps]]
==== Defining steps

Steps, in background and steps content blocks, are defined in paragraphs prefixed by https://cucumber.io/docs/gherkin/reference/[Gherkin] keywords. Keywords are parsed (e.g., for exporting rich JSON data). Supported steps are shown in the table below. Steps are not case-sensitive. 

|===
|Keyword | Description

| *given* | Initial context of the system, typically something that happened in the past. 
| *when* | An action or event that triggers the scenario.
| *then* | Expected outcome from the scenario.
| *and* | Conjunction, used with *when* or *then* for an additional trigger/outcome that is also expected.
| *or* | Conjunction, used with *when* or *then* for an alternate trigger/outcome. 
|===

[[generate-table]]
=== Inserting summary tables


== Topics Parking Lot

Include:

Add:  Continuous Build process documentation ... for multi-file / multi-page AsciiDoc sources
* Section Numbering & Naming Conventions
Much of this is specified in the IHE template, but
see "depth" and discontinuous section numbering issues

Capture:  indicate section depth + offset using something like ...

[#the_id,sdpi_num_offset=10] and

[#the_id,sdpi_num_level=+1]  depth indicator

Also factor in Figure and Table numbering:  section number + "-1" | "-2" ...

* Non-section Number Based / cross-doc References



* IHE TF UML Model

Include something that shows the interrelationships between blocks of content.

IMPORTANT: TBD - __Need to determine how to formalize these kinds of UML models; drawn in "Magicdraw", to PNG, to XMl rep of some sort (collapsable inclusion?), used for this doc + for SST database extraction / processing __

* Mapping from UML to AsciiDoc Block Content

** All special blocks should include a UML model for their content and be represented in the general TF UML model
** Classes represent blocks (including referenced classes)
** Class data elements represent block content
** Contained classes represent nested block content that can have cardinality
** ...

* Reference Conventions (basic syntax, conventions)

* Block basics
* Block naming conventions
* Block types

** IHE TF Elements (with URI identifiers) - see UML Models

*** Profile + Profile Option
*** Actor + Actor Option + TF-0 Summary
*** Transaction (TF-0 summary + TF-2 detail)
*** Issues / Open & Closed (w/ ToI links & github Issue links)
*** TF-0 Glossary - Term of Art
*** BICEPS specification (e.g., XML for a specialization OR for a )
*** ...

** RI "link" blocks  (note: separate article proposed ... needed?)
** Requirement blocks
** SES blocks + subsections
** Use Case (Gherkin structured + General Appx. C & profile specific) - see UML model

NOTE:  Include UML model for each block type (per above)

* Block "tagging regions" to omit all from production
** See https://docs.asciidoctor.org/asciidoc/latest/directives/include-tagged-regions/#tagging-regions[AsciiDoc "Tagging regions" article] for conditional logic that can be used to include source content that is not passed through to the printed document
** See https://docs.asciidoctor.org/asciidoc/latest/blocks/delimited/#nesting[AsciiDoc "Nesting blocks" article]

NOTE:  For quick links and examples for AsciiDoc constructs that are used in the SDPi Supplement, see the wiki article:  https://github.com/IHE/sdpi-fhir/wiki/SDPi-Editors-AsciiDoc-Cheat-Sheet.asciidoc[_SDPi Editors' AsciiDoc Cheat Sheet_]

{empty} +

